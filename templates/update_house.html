<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Uy Maâ€™lumotlarini Yangilash</title>
<style>
body { font-family: Arial,sans-serif; padding:40px; transition: all 0.3s; }
h2{text-align:center;margin-bottom:20px;}
.toggle-btn{display:block;margin:0 auto 20px;padding:10px 20px;border-radius:10px;font-weight:bold;cursor:pointer;border:none;background:linear-gradient(145deg,#e0e0e0,#fff);box-shadow:5px5px10px #ccc,-5px-5px10px #fff;transition:all 0.2s ease;}
.toggle-btn:active{box-shadow:inset 5px 5px 10px #ccc,inset -5px -5px 10px #fff;}
.toggle-btn:hover{opacity:0.9;}
form{width:60%;margin:auto;display:flex;flex-direction:column;gap:15px;}
input,textarea{padding:10px;border-radius:5px;border:1px solid #ccc;font-size:16px;width:100%;}
textarea{resize:vertical;}
button.submit-btn, .back-btn{padding:12px 22px;border:none;border-radius:10px;font-weight:bold;cursor:pointer;box-shadow:5px5px10px #ccc,-5px-5px10px #fff;transition:all 0.2s ease;}
button.submit-btn{background:#28a745;color:#fff;}
button.submit-btn:hover{background:#218838;}
button.submit-btn:active{box-shadow:inset 5px 5px 10px #ccc,inset -5px -5px 10px #fff;}
.back-btn{display:inline-block;background:#6c757d;color:#fff;text-decoration:none;}
.back-btn:hover{background:#555;}
.back-btn:active{box-shadow:inset 5px 5px 10px #ccc,inset -5px -5px 10px #fff;}
body.dark-mode{background:#121212;color:#e0e0e0;}
body.dark-mode input,body.dark-mode textarea{background:#1e1e1e;color:#e0e0e0;border:1px solid #555;}
body.dark-mode button.submit-btn{background:#bb86fc;color:#121212;}
body.dark-mode button.submit-btn:hover{background:#9b5de5;}
body.dark-mode .toggle-btn{background:linear-gradient(145deg,#333,#444);color:#fff;box-shadow:5px5px10px #111,-5px-5px10px #555;}
body.dark-mode .back-btn{background:#888;color:#121212;}
body.dark-mode .back-btn:hover{background:#555;}
</style>
</head>
<body class="light-mode">

<h2>Uy Maâ€™lumotlarini Yangilash</h2>
<button class="toggle-btn" id="toggleMode">Dark mode ðŸŒ™</button>

<form method="POST">
    {% csrf_token %}
    <input type="text" name="title" placeholder="Uy nomi" value="{{ uy.title }}" required>
    <input type="number" name="price" step="0.01" placeholder="Narxi" value="{{ uy.price }}" required>
    <input type="date" name="built_at" placeholder="Yaratilgan sana" value="{{ uy.built_at }}" required>
    <input type="number" name="rooms" placeholder="Xonalar soni" value="{{ uy.rooms }}" required>
    <input type="number" step="0.01" name="area" placeholder="Maydon (mÂ²)" value="{{ uy.area }}" required>
    <textarea name="desc" placeholder="Tavsif" rows="4" required>{{ uy.desc }}</textarea>

    <div style="display:flex;gap:15px;margin-top:10px;flex-wrap:wrap;">
        <button type="submit" class="submit-btn">Yangilash</button>
        <a href="{% url 'detail' uy.id %}" class="back-btn">Qaytish</a>
    </div>
</form>

<script>
const toggleBtn=document.getElementById('toggleMode');const body=document.body;
let savedMode=localStorage.getItem('mode');
if(savedMode==='dark'){body.classList.add('dark-mode');toggleBtn.textContent='Light Mode â˜€';}
else{toggleBtn.textContent='Dark mode ðŸŒ™';}
toggleBtn.addEventListener('click',()=>{
if(body.classList.contains('dark-mode')){body.classList.remove('dark-mode');localStorage.setItem('mode','light');toggleBtn.textContent='Dark mode ðŸŒ™';}
else{body.classList.add('dark-mode');localStorage.setItem('mode','dark');toggleBtn.textContent='Light Mode â˜€';}
});
</script>

</body>
</html>
